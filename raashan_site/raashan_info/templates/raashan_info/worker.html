{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block header_extras %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.12/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.12/js/select2.full.min.js"></script>
{% endblock %}

{% block back_button %}
{% endblock %}

{% block content %}
    <div class="container">
        <form class="worker-form" action="" method="POST">
            {% csrf_token %}
            {{ form.non_field_errors }}

            <div class="form-group row">
                <label class="col-sm-2 col-form-label" for="id_user_name">Worker</label>
                <div class="col-sm-10">
                    <input type="text" disabled name="user_name" value="{{ readable_username }}" class="form-control">
                    <input type="hidden" name="user" value={{ user.id }}>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label" for="id_name">Organization</label>
                <div class="col-sm-10">
                    {{ form.organization.errors }}
                    {% render_field form.organization class="form-control organization-select" %}
                </div>
            </div>
            <div class="col text-right">
                <input type="submit" class="btn btn-success" value="Save"/> 
            </div>
        </form>
    </div>
{% endblock %}

{% block body_end %}
    <script src="{% static 'custom/js/worker.js' %}"></script>
{% endblock %}